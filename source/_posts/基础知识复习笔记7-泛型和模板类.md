---
title: 基础知识复习笔记7-泛型和模板类
header_image: /intro/post-bg.jpg
abstract: 对比学习C++和Java
categories: 学习
tags:
  - 笔记
abbrlink: 10facbba
date: 2024-03-11 12:39:23
---

### 模板类
模板类是C++泛型编程的实现之一，STL的容器都是模板类实现的。模板类可以不具体指定数据的类型，实现一份代码多处复用。

```c++
template<typename T, typename E,...>
class demo {
public:
    demo(T x, E, y) {
        //...
    }
    T fun(E v) {
        T t;
        //...
        return t; 
    }
private:
    T a;
    E b;
}
```

模板函数类似。

### Java泛型
Java的泛型写法和C++类似，前面不需要加template标识。

### 两者区别
- C++的模板类实际上是编译的时候，对于每一种用到的类都复制生成一份代码，vector<int>和vector<double>会生成两个不同的类。
- Java的泛型在编译的过程中会进行类型擦除，将泛型改成Object类，只生成一份代码。
- 由于只生成了一份代码，Java的泛型程序在运行过程中需要进行类型转换和类型检查，将Object的类转为实例类型的类。
- 由于实际上Java的泛型是通过类型转换和类型检查实现的，所以Java的泛型类、泛型方法等，其中的泛型数据可以指定类型范围（extends T：必须是T的子类，super T，必须是T的父类）
- 类型参数T和通配符?。类型参数用于声明泛型类，?用在泛型类的使用中。